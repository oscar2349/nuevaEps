CREATE DATABASE IF NOT EXISTS db_medicamentos;
USE db_medicamentos;

DROP TABLE IF EXISTS solicitudes;
DROP TABLE IF EXISTS medicamentos;
DROP TABLE IF EXISTS usuarios;

CREATE TABLE usuarios (
  id INT AUTO_INCREMENT PRIMARY KEY,
  nombre VARCHAR(100) NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL
);

CREATE TABLE medicamentos (
  id INT AUTO_INCREMENT PRIMARY KEY,
  nombre VARCHAR(100) NOT NULL,
  es_no_pos BOOLEAN NOT NULL,
  cantidad INT DEFAULT 0
);

CREATE TABLE solicitudes (
  id INT AUTO_INCREMENT PRIMARY KEY,
  usuario_id INT NOT NULL,
  medicamento_id INT NOT NULL,
  numero_orden VARCHAR(100),
  direccion TEXT,
  telefono VARCHAR(20),
  correo VARCHAR(100),
  fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (usuario_id) REFERENCES usuarios(id),
  FOREIGN KEY (medicamento_id) REFERENCES medicamentos(id)
);

-- Insertar usuarios (con contraseñas hash dummy)
INSERT INTO usuarios (nombre, email, password) VALUES
('Ana Pérez', 'ana@example.com', '$2a$10$abcdefghij1234567890'), 
('Carlos López', 'carlos@example.com', '$2a$10$abcdefghij1234567890'),
('María Díaz', 'maria@example.com', '$2a$10$abcdefghij1234567890'),
('Luis Torres', 'luis@example.com', '$2a$10$abcdefghij1234567890'),
('Paula Ruiz', 'paula@example.com', '$2a$10$abcdefghij1234567890'),
('José García', 'jose@example.com', '$2a$10$abcdefghij1234567890'),
('Lucía Fernández', 'lucia@example.com', '$2a$10$abcdefghij1234567890'),
('Andrés Ramírez', 'andres@example.com', '$2a$10$abcdefghij1234567890'),
('Laura Herrera', 'laura@example.com', '$2a$10$abcdefghij1234567890'),
('Diego Martínez', 'diego@example.com', '$2a$10$abcdefghij1234567890');

-- Insertar medicamentos con stock
INSERT INTO medicamentos (nombre, es_no_pos, cantidad) VALUES
('Paracetamol', FALSE, 200),
('Ibuprofeno', FALSE, 150),
('Metformina', FALSE, 100),
('Losartán', FALSE, 80),
('Omeprazol', FALSE, 120),
('Adalimumab', TRUE, 20),
('Rituximab', TRUE, 10),
('Etanercept', TRUE, 15),
('Trastuzumab', TRUE, 5),
('Nivolumab', TRUE, 8);

-- Insertar solicitudes
INSERT INTO solicitudes (usuario_id, medicamento_id, numero_orden, direccion, telefono, correo) VALUES
(1, 1, 'O12345', 'Calle 12 # 30-25', '3001112233', 'maria@example.com'),
(2, 2, 'MA12345', 'Calle 13 # 52 -16', '3001112233', 'maria2@example.com'),
(3, 6, 'OT12345', 'Calle 123 # 47 44', '3001112233', 'maria3@example.com'),
(4, 7, 'TP54321', 'Carrera 45', '3102223344', 'luis@example.com'),
(5, 3, 'OSM12345', 'Calle 123', '3001112233', 'mari@example.com'),
(6, 4, 'OTD12345', 'Calle 123', '3001112233', 'luz@example.com'),
(7, 8, 'OHH98765', 'Av 9 No. 22-55', '3205556677', 'lucia@example.com'),
(8, 5, 'OMR12345', 'Calle 123', '3001112233', 'maria@example.com'),
(9, 9, 'OTDD11223', 'Calle Falsa 123', '3104445566', 'laura@example.com'),
(10, 10, 'ORD99887', 'Diagonal 80', '3116677889', 'diego@example.com');
INSERT INTO `solicitudes` (`usuario_id`, `medicamento_id`, `numero_orden`, `direccion`, `telefono`, `correo`, `fecha_creacion`) VALUES
(5, 3, 'ORD10021', 'Av Siempre Viva 742', '3205556677', 'user0@mail.com', '2025-06-01 09:00:00'),
(5, 1, 'ORD10022', 'Av 9 No. 22-55', '3102223344', 'user1@test.com', '2025-06-01 09:15:00'),
(10, 8, 'ORD10023', 'Av Siempre Viva 742', '3123334444', 'user2@correo.com', '2025-06-01 09:30:00'),
(8, 6, 'ORD10024', 'Carrera 45', '3001112233', 'user3@mail.com', '2025-06-01 09:45:00'),
(10, 5, 'ORD10025', 'Carrera 45', '3102223344', 'user4@correo.com', '2025-06-01 10:00:00'),
(7, 8, 'ORD10026', 'Carrera 5 #12-34', '3112345678', 'user5@correo.com', '2025-06-01 10:15:00'),
(7, 2, 'ORD10027', 'Calle 8 #56-78', '3123334444', 'user6@correo.com', '2025-06-01 10:30:00'),
(10, 9, 'ORD10028', 'Calle 8 #56-78', '3123334444', 'user7@mail.com', '2025-06-01 10:45:00'),
(10, 9, 'ORD10029', 'Calle Real 99', '3012345678', 'user8@test.com', '2025-06-01 11:00:00'),
(1, 1, 'ORD10030', 'Carrera 45', '3102223344', 'user9@test.com', '2025-06-01 11:15:00'),
(8, 2, 'ORD10031', 'Diagonal 7 #45-67', '3112345678', 'user10@mail.com', '2025-06-01 11:30:00'),
(3, 10, 'ORD10032', 'Av Siempre Viva 742', '3102223344', 'user11@correo.com', '2025-06-01 11:45:00'),
(7, 2, 'ORD10033', 'Av Siempre Viva 742', '3001112233', 'user12@correo.com', '2025-06-01 12:00:00'),
(1, 1, 'ORD10034', 'Calle Falsa 123', '3102223344', 'user13@test.com', '2025-06-01 12:15:00'),
(4, 8, 'ORD10035', 'Carrera 5 #12-34', '3012345678', 'user14@correo.com', '2025-06-01 12:30:00'),
(4, 1, 'ORD10036', 'Calle 123', '3001112233', 'user15@test.com', '2025-06-01 12:45:00'),
(4, 5, 'ORD10037', 'Carrera 5 #12-34', '3012345678', 'user16@example.com', '2025-06-01 13:00:00'),
(10, 7, 'ORD10038', 'Carrera 45', '3123334444', 'user17@example.com', '2025-06-01 13:15:00'),
(10, 9, 'ORD10039', 'Diagonal 7 #45-67', '3123334444', 'user18@test.com', '2025-06-01 13:30:00'),
(5, 4, 'ORD10040', 'Calle 8 #56-78', '3205556677', 'user19@correo.com', '2025-06-01 13:45:00'),
(9, 4, 'ORD10041', 'Diagonal 7 #45-67', '3102223344', 'user20@mail.com', '2025-06-01 14:00:00'),
(6, 3, 'ORD10042', 'Calle 123', '3102223344', 'user21@example.com', '2025-06-01 14:15:00'),
(6, 4, 'ORD10043', 'Diagonal 7 #45-67', '3205556677', 'user22@example.com', '2025-06-01 14:30:00'),
(4, 2, 'ORD10044', 'Calle 8 #56-78', '3012345678', 'user23@test.com', '2025-06-01 14:45:00'),
(7, 6, 'ORD10045', 'Transversal 3 #22-33', '3112345678', 'user24@correo.com', '2025-06-01 15:00:00'),
(9, 9, 'ORD10046', 'Calle Real 99', '3001112233', 'user25@example.com', '2025-06-01 15:15:00'),
(2, 2, 'ORD10047', 'Carrera 45', '3123334444', 'user26@correo.com', '2025-06-01 15:30:00'),
(1, 1, 'ORD10048', 'Calle 8 #56-78', '3001112233', 'user27@test.com', '2025-06-01 15:45:00'),
(3, 5, 'ORD10049', 'Av 9 No. 22-55', '3112345678', 'user28@correo.com', '2025-06-01 16:00:00'),
(4, 1, 'ORD10050', 'Calle Falsa 123', '3123334444', 'user29@test.com', '2025-06-01 16:15:00'),
(1, 8, 'ORD10051', 'Av 9 No. 22-55', '3112345678', 'user30@correo.com', '2025-06-01 16:30:00'),
(5, 1, 'ORD10052', 'Transversal 3 #22-33', '3112345678', 'user31@mail.com', '2025-06-01 16:45:00'),
(2, 4, 'ORD10053', 'Carrera 45', '3112345678', 'user32@example.com', '2025-06-01 17:00:00'),
(3, 3, 'ORD10054', 'Carrera 5 #12-34', '3001112233', 'user33@correo.com', '2025-06-01 17:15:00'),
(4, 10, 'ORD10055', 'Av Siempre Viva 742', '3123334444', 'user34@test.com', '2025-06-01 17:30:00'),
(3, 3, 'ORD10056', 'Calle Real 99', '3123334444', 'user35@example.com', '2025-06-01 17:45:00'),
(2, 4, 'ORD10057', 'Calle Falsa 123', '3205556677', 'user36@correo.com', '2025-06-01 18:00:00'),
(3, 4, 'ORD10058', 'Carrera 5 #12-34', '3123334444', 'user37@test.com', '2025-06-01 18:15:00'),
(7, 3, 'ORD10059', 'Av 9 No. 22-55', '3112345678', 'user38@example.com', '2025-06-01 18:30:00'),
(8, 7, 'ORD10060', 'Av 9 No. 22-55', '3112345678', 'user39@test.com', '2025-06-01 18:45:00'),
(2, 10, 'ORD10061', 'Calle Falsa 123', '3001112233', 'user40@test.com', '2025-06-01 19:00:00'),
(1, 6, 'ORD10062', 'Av Siempre Viva 742', '3001112233', 'user41@mail.com', '2025-06-01 19:15:00'),
(2, 10, 'ORD10063', 'Calle Real 99', '3012345678', 'user42@test.com', '2025-06-01 19:30:00'),
(2, 2, 'ORD10064', 'Calle 8 #56-78', '3012345678', 'user43@correo.com', '2025-06-01 19:45:00'),
(1, 7, 'ORD10065', 'Carrera 5 #12-34', '3123334444', 'user44@example.com', '2025-06-01 20:00:00'),
(9, 8, 'ORD10066', 'Diagonal 7 #45-67', '3102223344', 'user45@example.com', '2025-06-01 20:15:00'),
(4, 2, 'ORD10067', 'Calle 8 #56-78', '3205556677', 'user46@test.com', '2025-06-01 20:30:00'),
(5, 1, 'ORD10068', 'Calle 8 #56-78', '3112345678', 'user47@correo.com', '2025-06-01 20:45:00'),
(7, 1, 'ORD10069', 'Calle 123', '3102223344', 'user48@correo.com', '2025-06-01 21:00:00'),
(3, 8, 'ORD10070', 'Calle Falsa 123', '3012345678', 'user49@test.com', '2025-06-01 21:15:00'),
(5, 2, 'ORD10071', 'Diagonal 7 #45-67', '3205556677', 'user50@correo.com', '2025-06-01 21:30:00'),
(3, 9, 'ORD10072', 'Transversal 3 #22-33', '3123334444', 'user51@example.com', '2025-06-01 21:45:00'),
(1, 7, 'ORD10073', 'Calle Falsa 123', '3205556677', 'user52@test.com', '2025-06-01 22:00:00'),
(9, 6, 'ORD10074', 'Carrera 5 #12-34', '3205556677', 'user53@example.com', '2025-06-01 22:15:00'),
(7, 10, 'ORD10075', 'Calle Real 99', '3001112233', 'user54@correo.com', '2025-06-01 22:30:00'),
(6, 4, 'ORD10076', 'Transversal 3 #22-33', '3123334444', 'user55@correo.com', '2025-06-01 22:45:00'),
(10, 10, 'ORD10077', 'Carrera 5 #12-34', '3112345678', 'user56@mail.com', '2025-06-01 23:00:00'),
(7, 9, 'ORD10078', 'Av 9 No. 22-55', '3205556677', 'user57@correo.com', '2025-06-01 23:15:00'),
(6, 2, 'ORD10079', 'Carrera 5 #12-34', '3012345678', 'user58@example.com', '2025-06-01 23:30:00'),
(8, 2, 'ORD10080', 'Calle Real 99', '3012345678', 'user59@correo.com', '2025-06-01 23:45:00'),
(2, 4, 'ORD10081', 'Av 9 No. 22-55', '3001112233', 'user60@example.com', '2025-06-02 00:00:00'),
(6, 2, 'ORD10082', 'Calle 8 #56-78', '3001112233', 'user61@test.com', '2025-06-02 00:15:00'),
(6, 1, 'ORD10083', 'Av Siempre Viva 742', '3205556677', 'user62@example.com', '2025-06-02 00:30:00'),
(7, 5, 'ORD10084', 'Calle 123', '3123334444', 'user63@test.com', '2025-06-02 00:45:00'),
(8, 7, 'ORD10085', 'Carrera 5 #12-34', '3112345678', 'user64@example.com', '2025-06-02 01:00:00'),
(1, 2, 'ORD10086', 'Calle Real 99', '3112345678', 'user65@example.com', '2025-06-02 01:15:00'),
(1, 2, 'ORD10087', 'Av Siempre Viva 742', '3112345678', 'user66@example.com', '2025-06-02 01:30:00'),
(7, 2, 'ORD10088', 'Calle Falsa 123', '3112345678', 'user67@mail.com', '2025-06-02 01:45:00'),
(5, 7, 'ORD10089', 'Calle 8 #56-78', '3112345678', 'user68@example.com', '2025-06-02 02:00:00'),
(5, 2, 'ORD10090', 'Calle Falsa 123', '3112345678', 'user69@mail.com', '2025-06-02 02:15:00'),
(1, 9, 'ORD10091', 'Calle Falsa 123', '3112345678', 'user70@correo.com', '2025-06-02 02:30:00'),
(10, 6, 'ORD10092', 'Diagonal 7 #45-67', '3012345678', 'user71@test.com', '2025-06-02 02:45:00'),
(4, 10, 'ORD10093', 'Av 9 No. 22-55', '3102223344', 'user72@example.com', '2025-06-02 03:00:00'),
(5, 9, 'ORD10094', 'Calle 123', '3205556677', 'user73@correo.com', '2025-06-02 03:15:00'),
(9, 9, 'ORD10095', 'Calle Falsa 123', '3123334444', 'user74@example.com', '2025-06-02 03:30:00'),
(6, 6, 'ORD10096', 'Diagonal 7 #45-67', '3102223344', 'user75@mail.com', '2025-06-02 03:45:00'),
(4, 4, 'ORD10097', 'Calle 8 #56-78', '3012345678', 'user76@test.com', '2025-06-02 04:00:00'),
(9, 2, 'ORD10098', 'Av Siempre Viva 742', '3102223344', 'user77@mail.com', '2025-06-02 04:15:00'),
(2, 2, 'ORD10099', 'Transversal 3 #22-33', '3001112233', 'user78@example.com', '2025-06-02 04:30:00'),
(10, 8, 'ORD10100', 'Av 9 No. 22-55', '3001112233', 'user79@correo.com', '2025-06-02 04:45:00'),
(7, 6, 'ORD10101', 'Calle 8 #56-78', '3102223344', 'user80@correo.com', '2025-06-02 05:00:00'),
(4, 10, 'ORD10102', 'Calle Falsa 123', '3205556677', 'user81@test.com', '2025-06-02 05:15:00'),
(8, 5, 'ORD10103', 'Calle 123', '3102223344', 'user82@example.com', '2025-06-02 05:30:00'),
(2, 5, 'ORD10104', 'Calle Real 99', '3205556677', 'user83@correo.com', '2025-06-02 05:45:00'),
(8, 10, 'ORD10105', 'Calle Falsa 123', '3112345678', 'user84@test.com', '2025-06-02 06:00:00'),
(2, 9, 'ORD10106', 'Carrera 5 #12-34', '3205556677', 'user85@mail.com', '2025-06-02 06:15:00'),
(9, 2, 'ORD10107', 'Calle 123', '3102223344', 'user86@mail.com', '2025-06-02 06:30:00'),
(6, 8, 'ORD10108', 'Transversal 3 #22-33', '3012345678', 'user87@example.com', '2025-06-02 06:45:00'),
(5, 10, 'ORD10109', 'Carrera 5 #12-34', '3123334444', 'user88@mail.com', '2025-06-02 07:00:00'),
(1, 4, 'ORD10110', 'Diagonal 7 #45-67', '3102223344', 'user89@correo.com', '2025-06-02 07:15:00'),
(7, 9, 'ORD10111', 'Calle 123', '3112345678', 'user90@correo.com', '2025-06-02 07:30:00'),
(8, 6, 'ORD10112', 'Transversal 3 #22-33', '3001112233', 'user91@mail.com', '2025-06-02 07:45:00'),
(9, 1, 'ORD10113', 'Transversal 3 #22-33', '3123334444', 'user92@example.com', '2025-06-02 08:00:00'),
(2, 4, 'ORD10114', 'Transversal 3 #22-33', '3001112233', 'user93@test.com', '2025-06-02 08:15:00'),
(4, 3, 'ORD10115', 'Diagonal 7 #45-67', '3205556677', 'user94@mail.com', '2025-06-02 08:30:00'),
(3, 6, 'ORD10116', 'Carrera 45', '3112345678', 'user95@test.com', '2025-06-02 08:45:00'),
(1, 6, 'ORD10117', 'Calle 123', '3123334444', 'user96@test.com', '2025-06-02 09:00:00'),
(2, 8, 'ORD10118', 'Calle 8 #56-78', '3205556677', 'user97@mail.com', '2025-06-02 09:15:00'),
(7, 6, 'ORD10119', 'Calle 123', '3112345678', 'user98@test.com', '2025-06-02 09:30:00'),
(5, 7, 'ORD10120', 'Carrera 5 #12-34', '3012345678', 'user99@example.com', '2025-06-02 09:45:00');
